---
marp: true
theme: gaia
_class: lead
paginate: true

backgroundColor: #fff
backgroundImage: url('https://marp.app/assets/hero-background.svg')
---

 ## マイクロサービス時代のワークフローシステム
  〜Netflix Conductorを例に〜

---
# 自己紹介
- 松下正嗣
	- Javaプログラマー。クレディセゾン社で、ソフトウェア開発内製化に取り組んでいます。
	- 最初の仕事は研修講師->現場へ。大学/大学院と文系でした。
---


# マイクロサービス以前
- 同期的Webアプリケーション/オンラインリアルタイム処理以外では、
  - バッチ処理と呼ばれる長期/スケジュールタスク
    - ジョブスケジューラ(cron/商用スケジューラ/Apache Aireflow/その他)
  - 主にシステム間連携に利用されるメッセージキューシステム/オンライン非同期
    - メッセージングシステム/ストリーミングシステム(IBM MQ/Rabbit MQ/Kafka)

# マイクロサービスにおける課題
- どこまで細かくするかは別の課題としてあるが、結果整合性/分散処理モデルがより一般的に。システム間ではなくシステム内でも非同期分散処理が一般的になってきている。
- トランザクション管理の課題
 - 複数サービス間の整合性をどうやって確保するのか、


 # 整合性の課題
 - サーガパターン/取消電文

 # サーガパターンとその課題
 サーガパターンだけが解決ではない、リトライをなん度も行ったり、人の手による介入を行って復旧させることも必要。ワークフロー全体としては長期にわたる処理になる

 # ワークフローシステム
- temporal conductor
結構生産性を上げると思われる

# step functionは？


